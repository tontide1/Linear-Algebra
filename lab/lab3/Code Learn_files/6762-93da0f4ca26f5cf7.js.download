(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6762],{82307:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(85893),i=(n(67294),n(90512)),s=n(55444),o=n(96486),l=n.n(o),a=n(39954),c=n(97274),u=function(e){var t=e.className,n=e.userId,u=e.levelNo,d=e.src,v=e.size,m=void 0===v?"md":v,f=0;return"xs"===m?f=30:"sm"===m?f=36:"md"===m?f=40:"lg"===m?f=44:"xl"===m?f=52:(0,o.isNil)(m)||(f=m),n?(0,r.jsxs)(s.Z,{href:"/profile/".concat(n),style:{width:"".concat(f,"px"),height:"".concat(f,"px")},className:(0,i.Z)("relative inline-block flex-none",t),children:[u>0&&(0,r.jsx)("img",{className:(0,i.Z)("absolute z-20 left-1/2 top-[-14%]",{"top-[-10%]":m>80}),style:{transform:"translate(-50%,0)"},alt:"frame-avatar",src:"/images/avatar/User-".concat(l().padStart(u.toString(),2,"0"),".svg"),width:"auto",height:"145%"}),(0,r.jsx)(a.E,{className:"absolute z-10 left-1/2 top-[10%] rounded-full overflow-hidden aspect-square object-cover",style:{transform:"translate(-50%,0)"},src:d,width:"".concat(f,"px"),height:"".concat(f,"px"),withPlaceholder:!0,placeholder:(0,r.jsx)("img",{width:"".concat(f,"px"),height:"".concat(f,"px"),src:c.L4+"/Themes/TheCodeCampPro/Resources/Images/code-learn/user-default.svg"})})]}):(0,r.jsxs)("div",{style:{width:"".concat(f,"px"),height:"".concat(f,"px")},className:(0,i.Z)("relative inline-block flex-none",t),children:[u>0&&(0,r.jsx)("img",{className:(0,i.Z)("absolute z-20 left-1/2 top-[-13%]",{"top-[-10%]":m>80}),style:{transform:"translate(-50%,0)"},alt:"frame-avatar",src:"/images/avatar/User-".concat(l().padStart(u.toString(),2,"0"),".svg"),width:"auto",height:"145%"}),(0,r.jsx)(a.E,{className:"absolute z-10 left-1/2 top-[10%] rounded-full overflow-hidden aspect-square object-cover",style:{transform:"translate(-50%,0)"},src:d,width:"".concat(f,"px"),height:"".concat(f,"px"),withPlaceholder:!0,placeholder:(0,r.jsx)("img",{width:"".concat(f,"px"),height:"".concat(f,"px"),src:c.L4+"/Themes/TheCodeCampPro/Resources/Images/code-learn/user-default.svg"})})]})}},25831:function(e,t,n){"use strict";var r=n(26042),i=n(69396),s=n(99534),o=n(85893),l=n(67887),a=n.n(l),c=n(15660),u=n.n(c),d=(n(26764),n(79016),n(39980),n(52503),n(80366),n(27046),n(4279),n(2731),n(24335),n(15251),n(67294)),v=n(27856),m=n.n(v),f=n(96486),p=n(82859),h=n(97274),x=n(90512);t.Z=function(e){var t=e.className,n=void 0===t?"":t,l=e.line,c=e.content,v=e.children,g=(0,s.Z)(e,["className","line","content","children"]);m().addHook("afterSanitizeAttributes",(function(e){if("target"in e){e.setAttribute("target","_blank"),e.setAttribute("rel","noopener");var t=e.getAttribute("href");t&&!t.startsWith("http")&&(t=h.uz+t,e.setAttribute("href",t))}if("src"in e){var n=e.getAttribute("src");!n||n.startsWith("http")||n.startsWith("data")||(n=h.L4+n,e.setAttribute("src",n))}}));var b=m().sanitize(c||v);return(0,d.useEffect)((function(){u().highlightAll()}),[b]),(0,f.isNil)(l)?(0,o.jsx)("div",(0,i.Z)((0,r.Z)({},g),{className:(0,x.Z)(n,a().root),dangerouslySetInnerHTML:{__html:b}})):(0,o.jsx)(p.Q,{line:l,children:(0,o.jsx)("div",(0,i.Z)((0,r.Z)({},g),{className:(0,x.Z)(n,a().root),dangerouslySetInnerHTML:{__html:b}}))})}},94618:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(9473),i=n(48929),s=function(){var e=(0,r.v9)(i.tM),t=(0,r.v9)(i.Rp);return{isProfileFetched:t,authorized:t&&!!e,profile:e}}},16762:function(e,t,n){"use strict";n.d(t,{t:function(){return U}});var r=n(47568),i=n(26042),s=n(69396),o=n(70655),l=n(85893),a=n(67294),c=n(29433),u=n(94618),d=n(96486),v=n(7258),m=n(87536),f=n(47533),p=n(23769),h=n(86264),x=n(82307),g=n(55444),b=n(30381),_=n.n(b),j=n(90512),y=n(52823),N=n.n(y),w=n(5697),C=n(13661),Z=n(73917),k=n(31716),I=n(8357),T=n(49734),R=n(25831),S=n(82859),z=n(90918),E=n(89534),P=n(95117),U=function(e){if((0,d.isNil)(e))return e;var t=e;return t=(t=(t=(t=(t=(t=(t=t.replace(/<br>\s*<br>/g,"")).replace(/(<br\s*\/?>)+<\/p>/g,"</p>")).replace(/&nbsp;\s*&nbsp;/g,"")).replace(/<p>\s*<\/p>/g,"")).replace(/<p>\s*&nbsp;\s*<\/p>/g,"")).replace(/<p>(&nbsp;)+<br>(&nbsp;)+<\/p>/g,"")).replace(/<p>(<br>\s*&nbsp;)?<\/p>/g,"")},O=function(e){var t,n,b,y,H,A,L,D,M,B,q,V,W,K=(0,c.$G)(),Q=K.t,F=K.i18n,G=e.title,X=e.detailedLink,J=e.data,Y=e.setOpenReply,$=e.openReplyItemId,ee=e.contextId,te=e.contextType,ne=e.refetch,re=e.isManager,ie=(0,u.E)().profile,se=J.message,oe=(0,a.useState)(!1),le=oe[0],ae=oe[1],ce=(0,a.useState)(null),ue=ce[0],de=ce[1],ve=(0,a.useState)(!1),me=ve[0],fe=ve[1],pe=(0,a.useRef)(null),he=(0,a.useRef)(null),xe=(0,a.useRef)(null),ge=(0,a.useRef)(!1),be=(0,a.useState)(!1),_e=be[0],je=be[1],ye=(0,a.useState)(!1),Ne=ye[0],we=ye[1],Ce=function(){var e=(0,r.Z)((function(){var e,t,n,r=arguments;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:e=r.length>0&&void 0!==r[0]?r[0]:1,i.label=1;case 1:return i.trys.push([1,3,4,5]),ae(!0),[4,E.O.filter({contextId:ee,contextType:te,pageSize:10,pageIndex:e,parentId:null===J||void 0===J?void 0:J.id})];case 2:return n=i.sent(),(null===(t=n.data)||void 0===t?void 0:t.data)&&de((function(t){var r=(0,d.cloneDeep)(t)||[];return r[e-1]=n.data.data,r})),[3,5];case 3:return i.sent(),[3,5];case 4:return ae(!1),[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,r.Z)((function(e){var t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:t=(ue||[]).length||1,n=e,r.label=1;case 1:return n<=t?[4,Ce(n)]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=(0,r.Z)((function(){var e,t,n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return n=(null===(e=ue||[])||void 0===e||null===(t=e[ue.length-1])||void 0===t?void 0:t.currentPage)+1,[4,Ce(n)];case 1:return r.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ie={message:"",contextId:ee,id:J.id,contextType:te,userId:null===ie||void 0===ie?void 0:ie.id,parentId:null,createOrUpdate:0};(0,a.useEffect)((function(){ze({message:"",contextId:ee,id:J.id,contextType:te,userId:null===ie||void 0===ie?void 0:ie.id,parentId:null,createOrUpdate:0})}),[ee]);var Te=(0,m.cI)({mode:"onChange",defaultValues:Ie,shouldUnregister:!1,resolver:(0,f.X)(v.object().shape({}))}),Re=Te.control,Se=Te.handleSubmit,ze=Te.reset,Ee=Te.watch,Pe=function(e){if(!ge.current){var t=U(Ee("message"));if((0,d.isNil)(t)||""==t)return T.gU.error("Comment must not be blank"),void(e&&(fe(!1),ze(Ie)));Se(function(){var t=(0,r.Z)((function(t){var n;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:ge.current=!0,n=U(t.message),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,E.O.post((0,s.Z)((0,i.Z)({},t),{title:G,detailedLink:X,message:n,id:e?t.id:null,parentId:e?null:$,createOrUpdate:e?1:0}))];case 2:return r.sent(),fe(!1),ze(Ie),!e&&Ze(1),ne(),[3,5];case 3:return r.sent(),[3,5];case 4:return ge.current=!1,[7];case 5:return[2]}}))}));return function(e){return t.apply(this,arguments)}}())()}},Ue=(0,d.debounce)(function(){var e=(0,r.Z)((function(e,t){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,E.O.hide({commentId:e,userId:t})];case 1:return n.sent(),ne(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),300),Oe=(0,a.useCallback)((0,d.debounce)(function(){var e=(0,r.Z)((function(e,t){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,E.O.vote({contextType:h.y.Comment,contextId:e,point:t})];case 1:return n.sent(),ne(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),300),[]);return(0,a.useEffect)((function(){if(me){var e=function(e){pe.current&&!pe.current.contains(e.target)&&Pe(!0)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}}),[me]),(0,a.useEffect)((function(){setTimeout((function(){var e,t,n=(null===(e=document.getElementById("comment-".concat(null===J||void 0===J?void 0:J.id)))||void 0===e?void 0:e.scrollHeight)||0,r=(null===(t=document.getElementById("comment-".concat(null===J||void 0===J?void 0:J.id)))||void 0===t?void 0:t.clientHeight)||0;we(n>r)}),100)}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"grid gap-1 grid-cols-[54px_auto] mb-4",children:[(0,l.jsx)(x.Z,{levelNo:null===J||void 0===J||null===(t=J.user)||void 0===t||null===(n=t.userExpLevel)||void 0===n?void 0:n.levelNo,src:null===J||void 0===J||null===(b=J.user)||void 0===b?void 0:b.avatarUrl,userId:null===J||void 0===J||null===(y=J.user)||void 0===y?void 0:y.userId,size:"md"}),(0,l.jsxs)("div",{className:"border-b pb-5 text-sm",children:[(0,l.jsxs)("div",{className:"flex gap-x-2 w-full flex-wrap",children:[(0,l.jsx)(g.Z,{className:"text-primary",href:"/profile/".concat(null===J||void 0===J||null===(H=J.user)||void 0===H?void 0:H.userId),children:(0,l.jsx)(S.Q,{children:null===J||void 0===J||null===(A=J.user)||void 0===A?void 0:A.userName})}),(0,l.jsx)("div",{className:"text-[#898989] flex-none ",children:_()(null===J||void 0===J?void 0:J.modifiedOn).locale(F.language).format("ll")})]}),!me&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(R.Z,{className:(0,j.Z)("mt-2 whitespace-pre-line",N().content,J.isHidden?"text-[#898989]":"",{expand:_e}),id:"comment-".concat(null===J||void 0===J?void 0:J.id),content:se}),!_e&&Ne&&(0,l.jsx)("div",{className:"text-primary cursor-pointer hover:opacity-80",onClick:function(){return je(!0)},children:Q("See more")})]}),me&&(0,l.jsx)("div",{ref:pe,children:(0,l.jsx)(m.Qr,{name:"message",control:Re,render:function(e){var t=e.field;return(0,l.jsx)("div",{className:N().editor,children:(0,l.jsx)(z.M,{value:t.value,onEditorChange:function(e){ge.current||t.onChange(e)},onKeyDown:function(e){if(13==e.keyCode){if(e.shiftKey)return;e.preventDefault(),e.stopPropagation(),Pe(!0)}},ref:he,init:{indent:!1,branding:!1,menubar:!1,toolbar:!1,file_browser_callback:!1,quickbars_selection_toolbar:!1,quickbars_insert_toolbar:!1,statusbar:!1,convert_urls:!1,placeholder:Q("Write your comment"),content_css:"/editor.css"},tinymceScriptSrc:"https://cdnjs.cloudflare.com/ajax/libs/tinymce/6.7.0/tinymce.min.js"})})}})}),J.isHidden?(0,l.jsxs)("div",{className:"flex mt-8",children:[(0,l.jsxs)(P.x,{children:[Q("This comment has been hidden"),". "]}),(0,l.jsx)(P.x,{className:"text-[#4d96ff] cursor-pointer hover:underline pl-2",onClick:function(){var e;return Ue(null===J||void 0===J?void 0:J.id,null===J||void 0===J||null===(e=J.user)||void 0===e?void 0:e.userId)},children:Q("Unhide")})]}):(0,l.jsx)("div",{className:"mt-3 text-sm text-[#898989]",children:(0,l.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,l.jsxs)("div",{onClick:function(){return Oe(J.id,(null===J||void 0===J?void 0:J.userVotePoint)<=0?1:0)},className:"flex gap-1 items-center cursor-pointer hover:opacity-80",children:[(0,l.jsx)(w.Z,{className:(0,j.Z)({"text-primary":1===(null===J||void 0===J?void 0:J.userVotePoint)})}),(0,l.jsx)("div",{children:(null===J||void 0===J?void 0:J.totalPoint)||0})]}),(0,l.jsxs)("div",{onClick:function(){return Oe(J.id,(null===J||void 0===J?void 0:J.userVotePoint)>=0?-1:0)},className:"flex gap-1 items-center cursor-pointer hover:opacity-80",children:[(0,l.jsx)(C.Z,{className:(0,j.Z)("mt-2",{"text-primary":-1===(null===J||void 0===J?void 0:J.userVotePoint)})}),(0,l.jsx)("div",{children:(null===J||void 0===J?void 0:J.totalNegativePoint)||0})]}),(0,l.jsxs)("div",{onClick:function(){fe(!1),Y(null===J||void 0===J?void 0:J.id),ze((0,i.Z)({},Ie)),setTimeout((function(){var e,t,n;null===(e=xe.current)||void 0===e||null===(t=e.editor)||void 0===t||null===(n=t.focus)||void 0===n||n.call(t)}),200)},className:"flex gap-1 items-center cursor-pointer hover:opacity-80",children:[(0,l.jsx)(k.jB,{size:20}),(0,l.jsx)("div",{children:Q("Reply")})]}),ie&&ie.id===(null===J||void 0===J||null===(L=J.user)||void 0===L?void 0:L.userId)||re?(0,l.jsxs)("div",{onClick:function(){var e;return Ue(null===J||void 0===J?void 0:J.id,null===J||void 0===J||null===(e=J.user)||void 0===e?void 0:e.userId)},className:"flex gap-2 items-center cursor-pointer hover:opacity-80",children:[(0,l.jsx)(Z.Z,{size:4,className:"bg-[#898989] rounded-full h-[6px] w-[6px]"}),Q("Hide")]}):null,!!ie&&ie.id===(null===J||void 0===J||null===(D=J.user)||void 0===D?void 0:D.userId)&&(0,l.jsxs)("div",{onClick:function(){Y(null),fe(!0),setTimeout((function(){var e,t,n;null===(e=he.current)||void 0===e||null===(t=e.editor)||void 0===t||null===(n=t.focus)||void 0===n||n.call(t)}),200),ze((0,s.Z)((0,i.Z)({},Ie),{message:J.message}))},className:"flex gap-2 items-center cursor-pointer hover:opacity-80",children:[(0,l.jsx)(Z.Z,{size:4,className:"bg-[#898989] rounded-full h-[6px] w-[6px]"}),Q("Edit")]}),ie&&ie.id===(null===J||void 0===J||null===(M=J.user)||void 0===M?void 0:M.userId)||re?(0,l.jsxs)("div",{onClick:function(){return e=null===J||void 0===J?void 0:J.id,void(0,p.gH)({message:Q("Are you sure to delete the comment?"),onConfirm:(0,r.Z)((function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,E.O.delete(e)];case 1:return t.sent(),ne(),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))});var e},className:"flex gap-2 items-center cursor-pointer hover:opacity-80",children:[(0,l.jsx)(Z.Z,{size:4,className:"bg-[#898989] rounded-full h-[6px] w-[6px]"}),Q("Delete")]}):null]})})]})]}),!J.isHidden&&(0,l.jsxs)("div",{className:"grid gap-2 grid-cols-[54px_auto]",children:[(0,l.jsx)("div",{}),(0,l.jsxs)("div",{children:[ue&&(0,l.jsxs)("div",{className:"mb-5",children:[ue.map((function(e){var t;return null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.map((function(t){return(0,l.jsx)(O,{data:t,title:G,detailedLink:X,isManager:re,contextType:te,contextId:ee,refetch:function(){return Ze(e.currentPage)},openReplyItemId:$,setOpenReply:function(e){e?(Y(J.id),ze((0,i.Z)({},Ie)),setTimeout((function(){var e,t,n;null===(e=xe.current)||void 0===e||null===(t=e.editor)||void 0===t||null===(n=t.focus)||void 0===n||n.call(t)}),200)):Y(null)}},t.id)}))})),(null===ue||void 0===ue?void 0:ue[0])&&ue[0].pageCount>ue.length?(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)(I.zx,{disabled:le,variant:"default",onClick:ke,size:"sm",children:Q("See more")})}):null]}),J.numOfReply>0&&!(null===ue||void 0===ue?void 0:ue[0])&&(0,l.jsxs)("div",{className:"pb-5 grid gap-1 grid-cols-[54px_auto] mb-4",children:[(0,l.jsx)(x.Z,{levelNo:null===J||void 0===J||null===(B=J.userReply)||void 0===B||null===(q=B.userExpLevel)||void 0===q?void 0:q.levelNo,src:null===J||void 0===J||null===(V=J.userReply)||void 0===V?void 0:V.avatarUrl,userId:null===J||void 0===J||null===(W=J.userReply)||void 0===W?void 0:W.userId,size:"md"}),(0,l.jsxs)("div",{onClick:function(){return Ce(1)},className:"flex items-center cursor-pointer hover:opacity-80 text-primary",children:[(0,l.jsx)(Z.Z,{size:4,className:"mr-2 bg-[#898989] rounded-full h-[6px] w-[6px]"}),J.numOfReply," ",Q("replies")]})]}),!!ie&&(null===J||void 0===J?void 0:J.id)&&$===J.id&&!me&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)(m.Qr,{name:"message",control:Re,render:function(e){var t=e.field;return(0,l.jsx)("div",{className:N().editor,children:(0,l.jsx)(z.M,{value:t.value,onEditorChange:function(e){ge.current||t.onChange(e)},onKeyDown:function(e){if(13==e.keyCode){if(e.shiftKey)return;e.preventDefault(),e.stopPropagation(),Pe()}},ref:xe,init:{indent:!1,branding:!1,menubar:!1,toolbar:!1,file_browser_callback:!1,quickbars_selection_toolbar:!1,quickbars_insert_toolbar:!1,statusbar:!1,convert_urls:!1,placeholder:Q("Write your comment"),content_css:"/editor.css"},tinymceScriptSrc:"https://cdnjs.cloudflare.com/ajax/libs/tinymce/6.7.0/tinymce.min.js"})})}}),(0,l.jsx)(I.zx,{className:"ml-auto my-4",size:"sm",onClick:function(){return Pe()},children:Q("Post")})]})})]})]})]})})};t.Z=O},82859:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(85893),i=(n(67294),n(96486)),s=function(e){var t=e.line,n=void 0===t?1:t,s=e.className,o=e.children,l=(0,i.isString)(o)?o:null;return(0,r.jsx)("span",{className:s,style:{display:"-webkit-box",WebkitLineClamp:n,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"},title:l,children:o})}},89534:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(51438),i=n(99158),s=n(97274),o=function(){function e(){(0,r.Z)(this,e)}return e.filter=function(e){return i.be.get(s.UH+"/comment/comment/get-comments?progress=false",{params:e})},e.hide=function(e){return i.be.post(s.UH+"/comment/comment/toggle-hidden?progress=false",e)},e.vote=function(e){return i.be.post(s.UH+"/comment/rate/change-rate",e)},e.delete=function(e){return i.be.delete(s.UH+"/comment/comment/delete-comment/".concat(e,"?progress=false"))},e.post=function(e){return i.be.post(s.UH+"/comment/comment/create-update-comment?progress=false",e)},e}()},86264:function(e,t,n){"use strict";var r,i;n.d(t,{y:function(){return r}}),function(e){e[e.None=0]="None",e[e.Course=1]="Course",e[e.Section=2]="Section",e[e.CourseActivity=3]="CourseActivity",e[e.Comment=4]="Comment",e[e.Mentor=5]="Mentor",e[e.ContestActivity=6]="ContestActivity",e[e.Contest=7]="Contest",e[e.Blog=8]="Blog",e[e.Discussion=9]="Discussion",e[e.Training=10]="Training",e[e.Challenge=11]="Challenge"}(r||(r={})),function(e){e[e.Create=0]="Create",e[e.Update=1]="Update"}(i||(i={}))},67887:function(e){e.exports={root:"RawText_root__4tSYq",h1:"RawText_h1__RBu8N",h2:"RawText_h2__JXomP",h3:"RawText_h3__renle",h4:"RawText_h4__xw8a0",h5:"RawText_h5__VlpG_","table-border":"RawText_table-border__D5twh",table:"RawText_table__coGOa","none-list":"RawText_none-list__NFxK5"}},52823:function(e){e.exports={editor:"CourseComments_editor___2uC3",content:"CourseComments_content__vw6VG"}}}]);